<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="/css/style.css">
  <link rel="stylesheet" type="text/css" href="/css/detail.css">
<script>
    /*
    document.getElementById("movie-like-button").addEventListener("click",function() {
        const userId = "사용자id";
        const itemId = "좋아요id";
        const data = {userId: userId, itemId: itemId };
        fetch('/like', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        }).then(response => response.text())
        .then(data => {
        console.log(data);
        // 서버로부터의 응답을 처리합니다.
    })
        .catch((error) => {
        console.error('에러 발생:', error);
    });

    });
    */
       function toggleLike() {
    var heart = document.querySelector('.heart-icon');
    heart.classList.toggle('clicked');
    }
        function toggleBookmark() {
    var bookmark = document.querySelector('.bookmark-icon');
    bookmark.classList.toggle('clicked');
    }
    function toggleComment() {
    var comment = document.querySelector('.comment-icon');
    comment.classList.toggle('clicked');
    }

    function showCommentForm() {
    var commentForm = document.querySelector('.comment-form');
    commentForm.style.display = 'block';
}
    function submitComment(event){
        event.preventDefault();
        // 코멘트 전송 후에 코멘트 폼 숨기기
        hideCommentForm();
    }   
    function hideCommentForm() {
    var commentForm = document.querySelector('.comment-form');
    commentForm.style.display = 'none';
}
      </script>
</head>

<div class="section-top">
        <div class="ThumbnailWrap">
            <div class="movie-Thumbnail">
                <img id="movieImg" src="/images/movies/<%= movie.imagePath %>" alt="<%= movie.title %>">
                <div class="summaryWrap">                
                    <div class="summary">
                        <nav id="nav-summary">
                            <ul id="summary-detail">
                                <ul id="summary-detail">
                                  <li><h1><%= movie.title %></h1></li>
                                <% movie.directors.forEach(function(director){ %>
                                  <li><%= director.name %></li>
                                <% }); %>
                                  <li><a>movie.genre</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section-bottom">
        <section class="movieInfo">
            <div class="poster-section">
                <div class="poster">
                    <img id="poster" src="/images/movies/<%= movie.imagePath %>" alt="<%= movie.title %>">
                </div>
            </div>
            <div class="info-section">
                <section class="movieFunc">
                    <div class="star-Rating">
                        <div class="rating">
                            <fieldset class="rate">
                                <input type="radio" id="rating10" name="rating" value="10" /><label for="rating10" title="5 stars"></label>
                                <input type="radio" id="rating9" name="rating" value="9" /><label class="half" for="rating9" title="4 1/2 stars"></label>
                                <input type="radio" id="rating8" name="rating" value="8" /><label for="rating8" title="4 stars"></label>
                                <input type="radio" id="rating7" name="rating" value="7" /><label class="half" for="rating7" title="3 1/2 stars"></label>
                                <input type="radio" id="rating6" name="rating" value="6" /><label for="rating6" title="3 stars"></label>
                                <input type="radio" id="rating5" name="rating" value="5" /><label class="half" for="rating5" title="2 1/2 stars"></label>
                                <input type="radio" id="rating4" name="rating" value="4" /><label for="rating4" title="2 stars"></label>
                                <input type="radio" id="rating3" name="rating" value="3" /><label class="half" for="rating3" title="1 1/2 stars"></label>
                                <input type="radio" id="rating2" name="rating" value="2" /><label for="rating2" title="1 star"></label>
                                <input type="radio" id="rating1" name="rating" value="1" /><label class="half" for="rating1" title="1/2 star"></label>
                            </fieldset>
                        </div>
                    </div>
                  
                    <div class="func">
                        <button id="movie-like-button" onclick="toggleLike()">
                            <svg class="heart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
                            <a>좋아요</a>
                        </button>
                        <button id="movie-bookmark-button" onclick="toggleBookmark()">
                            <svg class="bookmark-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z"/></svg>
                            <a>저장</a>
                        </button>
                        <button id="movie-comment-button" onclick="showCommentForm(); toggleComment();">
                            <svg class="comment-icon"xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>
                            <a>코멘트 작성</a>
                        </button>
                    </div>
                </section>
                <section class="movie-plot">
                    <a><%= movie.plot %></a>
                </section>
            </div>
        </section>
    
    
        <div class="appearanceWrap">
            <header>
                <h2>Appearances</h2>
            </header>
            <div class="appearance-actor">
                <ul id="actor">
                  <% movie.directors.forEach(function(director){ %>
                      <li><a><%= director.name %></a></li>
                  <% }); %>
                  <% movie.actors.forEach(function(actor){ %>
                    <li><a><%= actor.name %></a></li>
                  <% }); %>
                </ul>
            </div>
        </div>
        <div class="comment">
            <header>
                <h2>Comments</h2>
                <span class="comment-count"></span>
            </header>
            <form class="comment-form hidden" method ="POST" action="/comment" onsubmit="submitComment(event)">
                <textarea id="commentInput" name="comment" placeholder="코멘트를 입력하세요."></textarea>
                <button type="submit">저장</button>
            </form>

            <ul>
                <li>
                    <div id="comment-object">
                        <div id="comment-username"></div>
                        <div id="comment-text"></div>
                        <div id="comment-likeSee"></div>
                        <div id="like" ></div>
                    </div>
                </li>
                <li><div id="comment-object">
                    <div id="comment-username"></div>
                    <div id="comment-text"></div>
                    <div id="comment-likeSee"></div>
                    <div id="like" ></div>
                </div></li>
                <li><div id="comment-object">
                    <div id="comment-username"></div>
                    <div id="comment-text"></div>
                    <div id="comment-likeSee"></div>
                    <div id="like" ></div>
                </div></li>
                <li><div id="comment-object">
                    <div id="comment-username"></div>
                    <div id="comment-text"></div>
                    <div id="comment-likeSee"></div>
                    <div id="like" ></div>
                </div></li>
            </ul>
        </div>
    </div>
    




</body>

</html>
